(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1966:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return dr}));var r=n(10),i=n.n(r),o=n(263),a=n.n(o),s=n(1),c=n.n(s),l=n(0),u=(n(140),n(1963)),m=n(290),d=function(e){var t=Object.keys(e);return 0===t.length?null:t.map((function(t){return t+":"+e[t].bucket})).join(";")},_=n(16),f=n.n(_),p=n(197),b=n.n(p),T=n(271),N=(n(112),n(266)),h="https://twitter.com",E=function(e){return{pathname:h+"/intent/like",query:{tweet_id:e.id_str}}},I=function(e){return{pathname:h+"/"+e.user.screen_name+"/status/"+e.id_str}},v=function(e){return{pathname:h+"/places/"+e.id}},C=function(e){return{pathname:h+"/"+e.user.screen_name}},w=function(e){return e.pathname},y="twsrc",g=function(e){return e.startsWith("/")},k=function(e){switch(e){case m.a.tweet:return"tweetembed";default:return"unknown"}},A=function(e){var t=[];return N.a.forEach((function(n){var r=e[n.name],i=n.ref_id;if(r&&i){if(!/^[a-z0-9]+$/i.test(i))return void 0;var o=r.bucket;if(n.ref_values){var a=n.ref_values.indexOf(o);a>-1&&t.push(i+"_"+a)}}}),{}),t.join(",")},R=function(e){var t=function(e){var t;return f()(((t={})[y]="tfw",t),e)}(e);return function(e){return e.reduce((function(e,t){return e+"|"+t}))}(Object.keys(t).map((function(e){return function(e,t){return e+"^"+t}(e,t[e]?t[e]:"")})))},L=function(e){return g(e)?""+h+e:e},x=function(e,t,n,r){var i={twcamp:k(e),twterm:t,twgr:A(r)},o={ref_src:R(i),ref_url:n.origin};return function(e){if("object"==typeof e){var t=e.pathname,n=e.query,r=b()(e,["pathname","query"]),i=L(t);return f()({pathname:i,query:T.a.isTwitterDotComLink(i)?f()({},o,n):n},r)}var a=L(e);return{query:T.a.isTwitterDotComLink(a)?o:{},pathname:a}}},O=n(114),S=n(102),P=n(196),M=function(e){e.stopPropagation()},W=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.AUTHOR})},U=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.LIKE_ACTION})},Q=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.LOGO})},j=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.NEWS_ACTION})},K=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.PHOTO})},D=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.PLACE})},V=function(e){M(e),P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.MAIN,component:P.b.PRIVACY_NOTICE})},H=function(){P.e.scribe(P.a.SEEN,{section:P.d.MAIN,component:P.b.PRIVACY_NOTICE})},F=function(){P.e.scribe(P.a.SEEN,{section:P.d.MAIN,component:P.b.PUBLIC_INTEREST_NOTICE})},G=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.PUBLIC_INTEREST_NOTICE})},B=function(){P.e.scribe(P.a.SEEN,{section:P.d.MAIN,component:P.b.SOFT_INTERVENTION_PIVOT})},X=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.TIMESTAMP})},q=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.TWEET_REPLY_CONTEXT})},z=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.VIDEO})},Y=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.WHITESPACE})},J=function(e){M(e),P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.MAIN,component:P.b.SOFT_INTERVENTION_PIVOT})},Z=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.SOFT_INTERVENTION_PIVOT})},$=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.AUTHOR})},ee=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.LOGO})},te=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.PHOTO})},ne=function(){P.e.scribe(P.a.SEEN,{section:P.d.PARENT,component:P.b.PUBLIC_INTEREST_NOTICE})},re=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.PUBLIC_INTEREST_NOTICE})},ie=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.TWEET_REPLY_CONTEXT})},oe=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.VIDEO})},ae=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.WHITESPACE})},se=function(e){M(e),P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.PARENT,component:P.b.SOFT_INTERVENTION_PIVOT})},ce=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.SOFT_INTERVENTION_PIVOT})},le=function(){P.e.scribe(P.a.SEEN,{section:P.d.PARENT,component:P.b.SOFT_INTERVENTION_PIVOT})},ue=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT_QUOTE})},me=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT_QUOTE,component:P.b.PHOTO})},de=function(){P.e.scribe(P.a.SEEN,{section:P.d.PARENT_QUOTE,component:P.b.PUBLIC_INTEREST_NOTICE})},_e=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT_QUOTE,component:P.b.PUBLIC_INTEREST_NOTICE})},fe=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT_QUOTE,component:P.b.VIDEO})},pe=function(e){M(e),P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.PARENT_QUOTE,component:P.b.SOFT_INTERVENTION_PIVOT})},be=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT_QUOTE,component:P.b.SOFT_INTERVENTION_PIVOT})},Te=function(){P.e.scribe(P.a.SEEN,{section:P.d.PARENT_QUOTE,component:P.b.SOFT_INTERVENTION_PIVOT})},Ne=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.QUOTE})},he=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.QUOTE,component:P.b.PHOTO})},Ee=function(){P.e.scribe(P.a.SEEN,{section:P.d.QUOTE,component:P.b.PUBLIC_INTEREST_NOTICE})},Ie=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.QUOTE,component:P.b.PUBLIC_INTEREST_NOTICE})},ve=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.QUOTE,component:P.b.VIDEO})},Ce=function(e,t){P.e.scribe(P.a.EXPERIMENT,{section:e,page:P.c.DDG},t)},we=function(e){M(e),P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.QUOTE,component:P.b.SOFT_INTERVENTION_PIVOT})},ye=function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.QUOTE,component:P.b.SOFT_INTERVENTION_PIVOT})},ge=function(){P.e.scribe(P.a.SEEN,{section:P.d.QUOTE,component:P.b.SOFT_INTERVENTION_PIVOT})},ke=n(65),Ae=function(e){function t(t){var n;return n=e.call(this,t)||this,c()(i()(n),"observer",null),c()(i()(n),"createObserver",(function(){var e=n.props,t=e.root,r=e.rootMargin,i=e.threshold;n.observer=new IntersectionObserver(n.handleChange,{root:t,rootMargin:r,threshold:i})})),c()(i()(n),"destroyObserver",(function(){n.observer&&n.node&&(n.observer.unobserve(n.node),n.observer=null)})),c()(i()(n),"handleChange",(function(e){(0,n.props.onChange)(e[0])})),n.props.disabled||n.createObserver(),n}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Object(ke.findDOMNode)(this);e instanceof HTMLElement&&(this.node=e,this.node&&this.observer&&this.observer.observe&&this.observer.observe(this.node))},n.componentDidUpdate=function(e){var t=this.props.disabled;!t&&e.disabled&&this.createObserver(),t&&!e.disabled&&this.destroyObserver()},n.componentWillUnmount=function(){this.destroyObserver()},n.render=function(){var e=this.props.children;return l.Children.only(e)},t}(l.Component);c()(Ae,"defaultProps",{disabled:!1,root:null,rootMargin:"0px"});var Re=Ae,Le=n(6),xe=n(63),Oe="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/ABImpressionScribe/index.js",Se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"state",{seen:!1}),c()(i()(t),"handleInViewport",(function(e){var n=e.isIntersecting,r=t.state.seen,i=t.props.experimentKey,o=S.a.getExperimentData(i);o&&t.isExperimentBucketed(o)&&n&&!r&&(Ce(i,o),t.setState({seen:!0}))})),c()(i()(t),"isExperimentBucketed",(function(e){return!!e.version})),t}return a()(t,e),t.prototype.render=function(){var e=this.state.seen;return l.createElement(Re,{disabled:e,onChange:this.handleInViewport,threshold:1,__self:this,__source:{fileName:Oe,lineNumber:48,columnNumber:7}},l.createElement(xe.default,{style:Pe.root,__self:this,__source:{fileName:Oe,lineNumber:49,columnNumber:9}}))},t}(l.Component),Pe=Le.a.create({root:{backgroundColor:"transparent",position:"absolute",width:1,height:1,overflow:"hidden",padding:0,borderWidth:0}}),Me=n(736),We=n(288),Ue="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/InnerTweetContainer/index.js",Qe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"getLinkRef",(function(e){t._linkRef=Object(ke.findDOMNode)(e)})),c()(i()(t),"handleClick",(function(e){var n=t.props.onClick;t._linkRef&&t._linkRef.click&&t._linkRef.click(),n&&n(e)})),t}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.link,r=e.style,i=b()(e,["children","link","style"]);return l.createElement(Me.a,f()({accessibilityRole:"article",accessible:!0,style:r},i,{onClick:this.handleClick,__self:this,__source:{fileName:Ue,lineNumber:37,columnNumber:7}}),l.createElement(We.a,{link:n,viewRef:this.getLinkRef,__self:this,__source:{fileName:Ue,lineNumber:38,columnNumber:9}}),t)},t}(l.Component),je=n(781),Ke=n(782),De=n(13),Ve="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/TweetContainer/index.js",He=Le.a.theme.breakpoints.xSmall,Fe=function(e){var t=S.a.getFeatures(),n=!!N.d&&!!t&&t[N.d.name],r=!!t&&!!n&&"on"===n.bucket,i=e.children,o=e.style,a=b()(e,["children","style"]);return r?l.createElement(je.a,{__self:void 0,__source:{fileName:Ve,lineNumber:22,columnNumber:5}},l.createElement(Ke.a,{__self:void 0,__source:{fileName:Ve,lineNumber:23,columnNumber:7}},(function(e){return e.windowWidth<He?Le.a.setScale(De.e.ThemeScaleNames.small):Le.a.setScale(De.e.ThemeScaleNames.normal),l.createElement(xe.default,f()({style:[Ge.container,o]},a,{__self:void 0,__source:{fileName:Ve,lineNumber:29,columnNumber:13}}),i)}))):l.createElement(xe.default,f()({style:[Ge.container,o]},a,{__self:void 0,__source:{fileName:Ve,lineNumber:37,columnNumber:5}}),i)},Ge=Le.a.create((function(e){return{container:{borderWidth:e.borderWidths.small,borderColor:e.colors.lightGray,borderRadius:e.borderRadii.large,overflow:"hidden"}}})),Be=n(421),Xe=n.n(Be),qe=n(727),ze="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/ParentTweetContainer/index.js",Ye=function(e){var t=e.avatarUrl,n=e.children,r=e.screenName;return l.createElement(Me.a,{style:Je.container,withInteractiveStyling:!1,__self:void 0,__source:{fileName:ze,lineNumber:21,columnNumber:5}},l.createElement(xe.default,{__self:void 0,__source:{fileName:ze,lineNumber:22,columnNumber:7}},l.createElement(qe.default,{importantForAccessibility:"no-hide-descendants",onClick:$,screenName:r,size:"xxLarge",uri:t,withLink:!0,__self:void 0,__source:{fileName:ze,lineNumber:23,columnNumber:9}}),l.createElement(xe.default,{style:Je.line,__self:void 0,__source:{fileName:ze,lineNumber:31,columnNumber:9}})),l.createElement(xe.default,{style:Je.columnRight,__self:void 0,__source:{fileName:ze,lineNumber:33,columnNumber:7}},n))},Je=Le.a.create((function(e){return{container:{flexDirection:"row"},columnRight:{flexBasis:0,flexGrow:7,justifyContent:"flex-start",marginLeft:e.spaces.xxSmall,marginBottom:e.spaces.xSmall},line:{backgroundColor:e.colors.lightGray,marginHorizontal:"auto",marginTop:e.spaces.xxSmall,marginBottom:e.spaces.xxSmall,minHeight:"10px",width:"2px",flexGrow:1}}})),Ze=n(101),$e=n(806),et=["2586390716:image_direct_message","2586390716:message_me","2586390716:video_direct_message"],tt=["amplify","745291183405076480:broadcast","745291183405076480:live_event","3260518932:moment","poll2choice_image","poll2choice_text_only","poll2choice_video","poll3choice_text_only"],nt=["promo_video_convo","promo_image_convo"],rt=function(e){return et.indexOf(e.name)>-1},it=function(e){return nt.indexOf(e.name)>-1},ot=function(e){return-1!==tt.indexOf(e.name)},at=function(e){return!rt(e)&&!it(e)&&!function(e){return"amplify"===e.name}(e)},st="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/Card/index.js",ct=function(e){var t=e.card,n=e.cardContext,r=e.section,i=e.style,o=lt(r,t);return at(t)?l.createElement(xe.default,{style:i,__self:void 0,__source:{fileName:st,lineNumber:36,columnNumber:5}},l.createElement($e.a,{card:t,cardContext:n,cardState:"static",isPromoted:!1,onScribeEvent:o,__self:void 0,__source:{fileName:st,lineNumber:37,columnNumber:7}})):null},lt=function(e,t){return function(n){if("open_link"===n.action){var r=ot(t);switch(e){case Ze.f.MAIN:return void(r?P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.CARD}):P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.MAIN,component:P.b.CARD}));case Ze.f.PARENT:return void(r?P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.CARD}):P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.PARENT,component:P.b.CARD}));default:return}}}},ut=n(1962),mt=n(787),dt="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/Photos/index.js",_t=Xe.a.a316f871,ft=function(e){return e.map((function(e){return f()({accessibilityLabel:_t},e,{shouldShowAltLabel:!1})}))},pt=function(e){var t=e.images,n=e.section,r=e.style,i=n===Ze.f.MAIN||n===Ze.f.PARENT;return l.createElement(xe.default,{style:[Tt.photoWrapper,i&&[Tt.nonQuotedTweetStyles,r]],__self:void 0,__source:{fileName:dt,lineNumber:46,columnNumber:5}},l.createElement(mt.a,{cacheLocationKey:"embedded_tweet",images:ft(t),onClick:bt(n),onVariantSelection:ut.a,previewMode:!1,singleImageMaxAspectRatio:10,singleImageMinAspectRatio:1,__self:void 0,__source:{fileName:dt,lineNumber:47,columnNumber:7}}))},bt=function(e){switch(e){case Ze.f.PARENT_QUOTE:return me;case Ze.f.PARENT:return te;case Ze.f.QUOTE:return he;default:return K}},Tt=Le.a.create((function(e){return{photoWrapper:{overflow:"hidden"},nonQuotedTweetStyles:{borderColor:e.colors.nestedBorderColor,borderRadius:e.borderRadii.large,borderStyle:"solid",borderWidth:"1px"}}})),Nt=n(260),ht=n(32),Et="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/PublicInterestNotice/index.js",It=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"state",{seen:!1}),c()(i()(t),"getClickHandler",(function(){switch(t.props.section){case P.d.MAIN:return G;case P.d.PARENT:return re;case P.d.QUOTE:return Ie;case P.d.PARENT_QUOTE:return _e;default:return}})),c()(i()(t),"handleInViewport",(function(e){var n=e.isIntersecting,r=t.state.seen,i=t.props.section;n&&!r&&(i===P.d.MAIN?F():i===P.d.PARENT?ne():i===P.d.QUOTE?Ee():i===P.d.PARENT_QUOTE&&de(),t.setState({seen:!0}))})),c()(i()(t),"isInQuotedTweet",(function(){var e=t.props.section;return e===P.d.QUOTE||e===P.d.PARENT_QUOTE})),t}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.actionLabel,n=e.actionLink,r=e.text,i=this.state.seen,o=this.getClickHandler();return l.createElement(Re,{disabled:i,onChange:this.handleInViewport,threshold:1,__self:this,__source:{fileName:Et,lineNumber:41,columnNumber:7}},l.createElement(Nt.a,{link:n,onClick:o,style:[vt.label,this.isInQuotedTweet()&&vt.labelInQuotedTweet],__self:this,__source:{fileName:Et,lineNumber:42,columnNumber:9}},l.createElement(ht.b,{color:"normal",size:"normal",withInteractiveStyling:!1,__self:this,__source:{fileName:Et,lineNumber:47,columnNumber:11}},r," ",l.createElement(ht.b,{color:"blue",withInteractiveStyling:!0,__self:this,__source:{fileName:Et,lineNumber:49,columnNumber:13}},t))))},t}(l.Component),vt=Le.a.create((function(e){return{label:{marginTop:e.spaces.xSmall,marginBottom:e.spaces.xSmall,paddingBottom:e.spaces.xSmall,paddingTop:e.spaces.xSmall,paddingLeft:e.spaces.small,paddingRight:e.spaces.small,borderWidth:e.borderWidths.small,borderColor:e.colors.nestedBorderColor,borderRadius:e.borderRadii.large,backgroundColor:e.colors.faintGray},labelInQuotedTweet:{borderRadius:e.borderRadii.large,marginLeft:e.spaces.small,marginRight:e.spaces.small}}})),Ct=n(735),wt=n(809),yt="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/QuotedTweet/index.js",gt=function(e){var t=e.badge,n=e.description,r=e.url,i={badge:{url:t.url},description:n,url:{url:r.url,urlType:"ExternalUrl"}};return l.createElement(wt.a,{label:i,shouldTruncate:!0,__self:void 0,__source:{fileName:yt,lineNumber:53,columnNumber:10}})},kt=function(e){var t=e.hideMedia,n=e.quotedTweet,r=e.onClick,i=e.section,o=e.style,a=n.user,s=a.highlighted_label;return l.createElement(Fe,{style:[At.container,o],__self:void 0,__source:{fileName:yt,lineNumber:25,columnNumber:5}},l.createElement(Qe,{link:I(n),onClick:r,__self:void 0,__source:{fileName:yt,lineNumber:26,columnNumber:7}},l.createElement(xe.default,{style:At.innerContainer,__self:void 0,__source:{fileName:yt,lineNumber:27,columnNumber:9}},l.createElement(Ct.a,{isVerified:a.verified,name:a.name,profileImageUrl:a.profile_image_url_https,screenName:a.screen_name,__self:void 0,__source:{fileName:yt,lineNumber:28,columnNumber:11}}),s?gt(s):null),l.createElement(mn,{hideMedia:t,section:i===Ze.f.PARENT?Ze.f.PARENT_QUOTE:Ze.f.QUOTE,tweet:n,__self:void 0,__source:{fileName:yt,lineNumber:36,columnNumber:9}})))},At=Le.a.create((function(e){return{container:{borderRadius:e.borderRadii.large},innerContainer:{paddingTop:e.spaces.xSmall,paddingRight:e.spaces.xSmall,paddingLeft:e.spaces.xSmall}}})),Rt=n(708),Lt="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/SoftInterventionPivot/index.js",xt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"state",{seen:!1}),c()(i()(t),"getClickHandler",(function(){var e=t.props,n=e.link,r=e.section,i=T.a.isTwitterDotComLink(n);switch(r){case P.d.MAIN:return i?Z:J;case P.d.PARENT:return i?ce:se;case P.d.QUOTE:return i?ye:we;case P.d.PARENT_QUOTE:return i?be:pe;default:return}})),c()(i()(t),"handleInViewport",(function(e){var n=e.isIntersecting,r=t.state.seen,i=t.props.section;n&&!r&&(i===P.d.MAIN?B():i===P.d.PARENT?le():i===P.d.QUOTE?ge():i===P.d.PARENT_QUOTE&&Te(),t.setState({seen:!0}))})),c()(i()(t),"isInQuotedTweet",(function(){var e=t.props.section;return e===P.d.QUOTE||e===P.d.PARENT_QUOTE})),t}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.link,n=e.label,r=this.state.seen,i=this.getClickHandler();return l.createElement(Re,{disabled:r,onChange:this.handleInViewport,threshold:1,__self:this,__source:{fileName:Lt,lineNumber:46,columnNumber:7}},l.createElement(xe.default,{style:[Ot.label,this.isInQuotedTweet()&&Ot.labelInQuotedTweet],__self:this,__source:{fileName:Lt,lineNumber:47,columnNumber:9}},l.createElement(ht.b,{color:"red",link:t,onClick:i,weight:"bold",__self:this,__source:{fileName:Lt,lineNumber:48,columnNumber:11}},l.createElement(Rt.IconErrorCircle,{style:Ot.iconErrorCircle,__self:this,__source:{fileName:Lt,lineNumber:49,columnNumber:13}}),n)))},t}(l.Component),Ot=Le.a.create((function(e){return{iconErrorCircle:{paddingRight:e.spaces.xSmall},label:{alignItems:"flex-start",flexDirection:"row",marginTop:e.spaces.xSmall},labelInQuotedTweet:{marginTop:0,paddingHorizontal:e.spaces.xSmall,paddingBottom:e.spaces.xSmall}}})),St=n(788),Pt="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/TweetTextWrapper/index.js",Mt=Le.a.create((function(e){return{tweetTextMain:{cursor:"text"},tweetTextQuoted:{cursor:"normal"}}})),Wt=Object.freeze({CASHTAG:"cashtag",EMOJI:"emoji",HASHTAG:"hashtag",MEDIA:"media",MENTION:"mention",TEXT:"text",URL:"url"}),Ut=function(e){return function(t,n){var r=t.currentTarget,i=r.title&&T.a.isTwitterDotComLink(r.title),o=r.title&&T.a.isStatusUrl(r.title);if(e===P.d.MAIN)switch(n){case Wt.CASHTAG:return M(t),void P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.TWEET_TEXT_CASHTAG});case Wt.HASHTAG:return void function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.TWEET_TEXT_HASHTAG})}(t);case Wt.MEDIA:return void function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.TWEET_TEXT_MEDIA})}(t);case Wt.MENTION:return void function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.TWEET_TEXT_MENTION})}(t);case Wt.URL:return void(o?function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.TWEET_TEXT_QUOTE})}(t):i?function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.MAIN,component:P.b.TWEET_TEXT_URL})}(t):function(e){M(e),P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.MAIN,component:P.b.TWEET_TEXT_URL})}(t));default:return}else if(e===P.d.PARENT)switch(n){case Wt.CASHTAG:return void function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.TWEET_TEXT_CASHTAG})}(t);case Wt.HASHTAG:return void function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.TWEET_TEXT_HASHTAG})}(t);case Wt.MEDIA:return void function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.TWEET_TEXT_MEDIA})}(t);case Wt.MENTION:return void function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.TWEET_TEXT_MENTION})}(t);case Wt.URL:return void(o?function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.TWEET_TEXT_QUOTE})}(t):i?function(e){M(e),P.e.scribe(P.a.CLICK_TWITTER,{section:P.d.PARENT,component:P.b.TWEET_TEXT_URL})}(t):function(e){M(e),P.e.scribe(P.a.CLICK_EXTERNAL,{section:P.d.PARENT,component:P.b.TWEET_TEXT_URL})}(t));default:return}}},Qt=function(e){var t=S.a.getFeatures(),n=!!N.d&&!!t&&t[N.d.name],r=!!t&&!!n&&"on"===n.bucket,i=e.hideMedia,o=e.section,a=e.tweet,s=o===P.d.PARENT_QUOTE||o===P.d.QUOTE,c=o===P.d.PARENT_QUOTE||o===P.d.PARENT,u=Ut(o);return l.createElement(Ke.a,{__self:void 0,__source:{fileName:Pt,lineNumber:29,columnNumber:5}},(function(e){var t=e.windowWidth<He&&r;return l.createElement(St.a,{displayTextRange:a.display_text_range,entities:a.entities,entityBaseUrl:h,excludeCardUrl:a.card&&a.card.url,lang:a.lang,linkify:!s,onEntityClick:u,quotedTweetId:a.quoted_tweet&&a.quoted_tweet.id_str,size:s||c||t?"normal":"large",style:s?Mt.tweetTextQuoted:Mt.tweetTextMain,text:a.text,withCardLinks:i||s,withMediaLinks:i,withQuoteLinks:s,__self:void 0,__source:{fileName:Pt,lineNumber:33,columnNumber:11}})}))},jt=n(1918),Kt={dispatch:function(){return Promise.resolve({status:200,headers:{},body:""})}},Dt=function(e){var t=!1,n={log:function(n){var r=n.category,i=n.namespace;if(!t&&r&&"client_event"===r&&i&&("video_player"===i.element||"gif_player"===i.element)&&"intent_to_play"===i.action)switch(e){case P.d.MAIN:t=!0,P.e.scribe(P.a.CLICK_INTERACTIVE,{section:P.d.MAIN,component:P.b.VIDEO});break;case P.d.PARENT:t=!0,P.e.scribe(P.a.CLICK_INTERACTIVE,{section:P.d.PARENT,component:P.b.VIDEO})}}};return new jt.a(n,n,Kt,{scribeContext:{}})},Vt=function(e){e.stopPropagation()},Ht=n(808),Ft="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/TweetVideo/index.js",Gt=function(e){if(2===e.length){var t=e[0]>0?e[0]:16,n=e[1]>0?e[1]:9;return Math.max(1,t/n)}return 16/9},Bt=function(e,t){return("media_entity"===e||"gif"===e)&&void 0!==t&&t<=6e4},Xt=function(e){var t=e.section,n=e.style,r=e.video,i=r.aspectRatio,o=r.contentType,a=r.durationMs,s=b()(r,["aspectRatio","contentType","durationMs"]);return l.createElement(xe.default,{onClick:Vt,style:[qt.root,n],__self:void 0,__source:{fileName:Ft,lineNumber:46,columnNumber:5}},l.createElement(Ht.a,f()({analytics:Dt(t),aspectRatio:Gt(i),contentType:o,durationMs:a,httpClient:Kt,loop:Bt(o,a),size:"fill"},s,{__self:void 0,__source:{fileName:Ft,lineNumber:47,columnNumber:7}})))},qt=Le.a.create((function(e){return{root:{borderWidth:"1px",borderStyle:"solid",borderColor:e.colors.nestedBorderColor,borderRadius:e.borderRadii.large,overflow:"hidden"}}})),zt=n(265),Yt=n(714),Jt=n(734),Zt="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/TweetVideoPoster/index.js",$t=Xe.a.fd2ac409,en=Xe.a.ffc14326,tn=function(e){if(2===e.length){var t=e[0]>0?e[0]:16,n=e[1]>0?e[1]:9;return Math.max(1,t/n)}return 16/9},nn=function(e){var t=e.aspectRatio,n=e.link,r=e.src,i=e.section,o=e.style,a=i===Ze.f.PARENT_QUOTE||i===Ze.f.QUOTE?void 0:[on.nonQuotedTweetStyles,o],s=rn(i);return l.createElement(Yt.a,{ratio:tn(t),style:a,__self:void 0,__source:{fileName:Zt,lineNumber:46,columnNumber:5}},l.createElement(Nt.a,{accessibilityLabel:en,interactiveStyles:null,link:n,onPress:s,style:[Le.a.absoluteFill,on.wrapper],__self:void 0,__source:{fileName:Zt,lineNumber:47,columnNumber:7}},l.createElement(zt.a,{accessibilityLabel:$t,source:r,style:Le.a.absoluteFill,__self:void 0,__source:{fileName:Zt,lineNumber:54,columnNumber:9}}),l.createElement(Jt.a,{accessibilityLabel:en,onPress:s,__self:void 0,__source:{fileName:Zt,lineNumber:55,columnNumber:9}})))},rn=function(e){switch(e){case Ze.f.MAIN:return z;case Ze.f.PARENT:return oe;case Ze.f.QUOTE:return ve;case Ze.f.PARENT_QUOTE:return fe;default:return ut.a}},on=Le.a.create((function(e){return{wrapper:{justifyContent:"center",alignItems:"center"},nonQuotedTweetStyles:{borderWidth:"1px",borderStyle:"solid",borderColor:e.colors.nestedBorderColor,borderRadius:e.borderRadii.large,overflow:"hidden"}}})),an=function(e){var t=e&&e.photos&&e.photos.length?e.photos[0]:void 0;return t&&t.expandedUrl&&t.expandedUrl.includes("/video/")?t:void 0},sn=function(e){var t=e.video&&e.video.poster;if(t)return t;var n=an(e);return n?n.url:void 0},cn=function(e,t,n){var r=!t&&!!e.video&&n,i=!t&&!!sn(e);return r||i},ln=n(807),un="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/TweetContent/index.js",mn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"_getDisplayProps",(function(){var e=t.props,n=e.hideMedia,r=e.hideThread,i=e.tweet,o=e.section,a=o===Ze.f.PARENT_QUOTE||o===Ze.f.QUOTE;return{showCard:!(!i.card||a||n),showPhotos:!(n||!i.photos||!i.photos.length),showQuotedTweet:!(!i.quoted_tweet||a),showReplyContext:!(!i.in_reply_to_status_id_str||!r&&o!==Ze.f.PARENT&&!a),showVideo:!(n||!i.video||!i.video.variants||a),showVideoPoster:cn(i,n,a)}})),t}a()(t,e);var n=t.prototype;return n.render=function(){var e=this.props.section,t=e===Ze.f.PARENT_QUOTE||e===Ze.f.QUOTE;return l.createElement(l.Fragment,{__self:this,__source:{fileName:un,lineNumber:73,columnNumber:7}},this._renderPublicInterestNotice(),l.createElement(xe.default,{style:t&&dn.textWrapperQuoted,__self:this,__source:{fileName:un,lineNumber:75,columnNumber:9}},this._renderReplyContext(),this._renderTweetText()),this._renderAttachment(),this._renderSoftInterventionPivot(),this._renderQuotedTweet())},n._renderReplyContext=function(){var e=this.props,t=e.section,n=e.tweet,r=this._getDisplayProps().showReplyContext,i=function(e){switch(e){case Ze.f.MAIN:return q;case Ze.f.PARENT:return ie;default:return}}(t),o=w(I(n)),a=t===Ze.f.PARENT_QUOTE||t===Ze.f.QUOTE?ln.a.ReplyContextLinkTypes.none:ln.a.ReplyContextLinkTypes.all;return r?l.createElement(ln.a,{displayTextRange:n.display_text_range,inReplyToName:n.in_reply_to_name,inReplyToScreenName:n.in_reply_to_screen_name,inReplyToStatusIdStr:n.in_reply_to_status_id_str,inReplyToUserIdStr:n.in_reply_to_user_id_str,linkColor:"deepGray",linkType:a,onClick:i,style:dn.replyContext,tweetPermalink:o,userMentionsEntities:n.entities.user_mentions,__self:this,__source:{fileName:un,lineNumber:96,columnNumber:7}}):null},n._renderPublicInterestNotice=function(){var e=this.props,t=e.section,n=e.tweet.public_interest_notice;return n?l.createElement(It,{actionLabel:n.action_label,actionLink:n.landing_url,section:t,text:n.text,__self:this,__source:{fileName:un,lineNumber:116,columnNumber:7}}):null},n._renderTweetText=function(){var e=this.props,t=e.hideMedia,n=e.section,r=e.tweet;return l.createElement(Qt,{hideMedia:t,section:n,tweet:r,__self:this,__source:{fileName:un,lineNumber:127,columnNumber:12}})},n._renderAttachment=function(){var e=this._getDisplayProps(),t=e.showCard,n=e.showPhotos,r=e.showQuotedTweet,i=e.showVideo,o=e.showVideoPoster;return i?this._renderVideo():o?this._renderVideoPoster():n?this._renderPhotos():t&&!r?this._renderCard():null},n._renderCard=function(){var e=this.props,t=e.tweet,n=e.section,r={tweetId:t.id_str,tweetPermalink:w(I(t)),tweetUserId:t.user.id_str};return t.card?l.createElement(ct,{card:t.card,cardContext:r,section:n,style:dn.attachment,__self:this,__source:{fileName:un,lineNumber:153,columnNumber:7}}):null},n._renderPhotos=function(){var e=this.props,t=e.tweet,n=e.section;return t.photos?l.createElement(pt,{images:t.photos,section:n,style:dn.attachment,__self:this,__source:{fileName:un,lineNumber:159,columnNumber:27}}):null},n._renderVideo=function(){var e=this.props,t=e.tweet,n=e.section;return t.video?l.createElement(Xt,{section:n,style:dn.attachment,video:t.video,__self:this,__source:{fileName:un,lineNumber:164,columnNumber:26}}):null},n._renderVideoPoster=function(){var e=this.props,t=e.tweet,n=e.section,r=I(t),i=sn(t),o=function(e){var t=e&&e.video&&e.video.aspectRatio;if(t)return t;var n=an(e);return n?[n.width,n.height]:[16,9]}(t);return i?l.createElement(nn,{aspectRatio:o,link:r,section:n,src:i,style:dn.attachment,__self:this,__source:{fileName:un,lineNumber:173,columnNumber:7}}):null},n._renderSoftInterventionPivot=function(){var e=this.props,t=e.section,n=e.tweet.soft_intervention_pivot;return n?l.createElement(xt,{label:n.label,link:n.landing_url.url,section:t,__self:this,__source:{fileName:un,lineNumber:188,columnNumber:7}}):null},n._renderQuotedTweet=function(){var e=this.props,t=e.hideMedia,n=e.tweet,r=e.section,i=this._getDisplayProps().showQuotedTweet,o=r===Ze.f.PARENT?ue:Ne;return i&&n.quoted_tweet?l.createElement(kt,{hideMedia:t,onClick:o,quotedTweet:n.quoted_tweet,section:r,style:dn.attachment,__self:this,__source:{fileName:un,lineNumber:201,columnNumber:7}}):null},t}(l.Component);c()(mn,"defaultProps",{hideMedia:!1,hideThread:!1});var dn=Le.a.create((function(e){return{attachment:{marginTop:e.spaces.xSmall},replyContext:{marginBottom:e.spaces.xxSmall},textWrapperQuoted:{marginBottom:e.spaces.xSmall,marginTop:e.spaces.xxSmall,paddingRight:e.spaces.xSmall,paddingLeft:e.spaces.xSmall}}})),_n=n(155),fn="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/TwitterLogo/index.js",pn=Xe.a.j6fd91b5,bn=function(e){var t=e.link,n=e.section===Ze.f.PARENT?ee:Q,r=_n.a.generate({backgroundColor:"transparent",color:Le.a.theme.colors.blue}),i={backgroundColor:"transparent"},o={hoverStyle:i,pressedStyle:i};return l.createElement(Nt.a,{accessibilityLabel:pn,interactiveStyles:f()({},r,o),link:t,onPress:n,style:Tn.iconWrapper,__self:void 0,__source:{fileName:fn,lineNumber:34,columnNumber:5}},l.createElement(Rt.IconTwitter,{style:Tn.icon,__self:void 0,__source:{fileName:fn,lineNumber:41,columnNumber:7}}))},Tn=Le.a.create((function(e){return{icon:{color:e.colors.badgeColor,margin:"0",width:25*e.scales[e.scale]+"px",height:25*e.scales[e.scale]+"px"},iconWrapper:{borderRadius:Le.a.theme.borderRadii.infinite,marginLeft:"auto"}}})),Nn=n(737),hn="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/ParentTweet/index.js",En=Xe.a.jade381b,In=function(e){var t=e.badge,n=e.description,r=e.url,i={badge:{url:t.url},description:n,url:{url:r.url,urlType:"ExternalUrl"}};return l.createElement(wt.a,{label:i,onClick:$,shouldTruncate:!0,withTopMargin:!1,__self:void 0,__source:{fileName:hn,lineNumber:88,columnNumber:5}})},vn=function(e){var t=S.a.getFeatures(),n=!!N.d&&!!t&&t[N.d.name],r=!!t&&!!n&&"on"===n.bucket,i=e.hideMedia,o=e.parentTweet,a=I(o),s=o.user.highlighted_label;return l.createElement(Ke.a,{__self:void 0,__source:{fileName:hn,lineNumber:32,columnNumber:5}},(function(e){var t=e.windowWidth<He&&r;return l.createElement(Qe,{link:a,onClick:ae,withInteractiveStyling:!1,__self:void 0,__source:{fileName:hn,lineNumber:36,columnNumber:11}},l.createElement(Ye,{avatarUrl:o.user.profile_image_url_https,permalink:a,screenName:o.user.screen_name,__self:void 0,__source:{fileName:hn,lineNumber:41,columnNumber:13}},l.createElement(xe.default,{style:Cn.header,__self:void 0,__source:{fileName:hn,lineNumber:46,columnNumber:15}},l.createElement(xe.default,{style:[Cn.usernameLabel,o.user.highlighted_label&&Cn.highlightedUserLabelWrapper],__self:void 0,__source:{fileName:hn,lineNumber:47,columnNumber:17}},l.createElement(xe.default,{style:Cn.usernameTimestamp,__self:void 0,__source:{fileName:hn,lineNumber:53,columnNumber:19}},l.createElement(Ct.a,{isVerified:o.user.verified,name:o.user.name,onLinkClick:$,screenName:o.user.screen_name,withLink:!0,withStackedLayout:!o.user.highlighted_label&&t,__self:void 0,__source:{fileName:hn,lineNumber:54,columnNumber:21}}),l.createElement(Nn.a,{__self:void 0,__source:{fileName:hn,lineNumber:62,columnNumber:21}}),l.createElement(ht.b,{color:"deepGray",link:a,style:Cn.timestamp,__self:void 0,__source:{fileName:hn,lineNumber:63,columnNumber:21}},En(new Date(o.created_at)))),s?In(s):null),l.createElement(bn,{link:I(o),section:Ze.f.PARENT,__self:void 0,__source:{fileName:hn,lineNumber:69,columnNumber:17}})),l.createElement(mn,{hideMedia:i,section:Ze.f.PARENT,tweet:o,__self:void 0,__source:{fileName:hn,lineNumber:71,columnNumber:15}})))}))},Cn=Le.a.create((function(e){return{header:{flexDirection:"row"},usernameLabel:{flexDirection:"column",justifyContent:"center",maxWidth:"calc(100% - 25px)"},highlightedUserLabelWrapper:{height:46},usernameTimestamp:{flexDirection:"row"},timestamp:{flexShrink:0,marginRight:e.spaces.micro}}})),wn="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/PrivacyNotice/index.js",yn=Xe.a.c5005824,gn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"state",{seen:!1}),c()(i()(t),"handleInViewport",(function(e){var n=e.isIntersecting,r=t.state.seen;n&&!r&&(H(),t.setState({seen:!0}))})),t}return a()(t,e),t.prototype.render=function(){var e=this,t=S.a.getFeatures(),n=!!N.d&&!!t&&t[N.d.name],r=!!t&&!!n&&"on"===n.bucket,i=this.props.style,o=this.state.seen,a=_n.a.generate({backgroundColor:"transparent",color:Le.a.theme.colors.blue});return l.createElement(Ke.a,{__self:this,__source:{fileName:wn,lineNumber:50,columnNumber:7}},(function(t){var n=t.windowWidth<He&&r;return l.createElement(Re,{disabled:o,onChange:e.handleInViewport,threshold:1,__self:e,__source:{fileName:wn,lineNumber:54,columnNumber:13}},l.createElement(Nt.a,{accessibilityLabel:yn,interactiveStyles:a,link:"https://help.twitter.com/en/twitter-for-websites-ads-info-and-privacy",onPress:V,style:[kn.iconWrapper,i],__self:e,__source:{fileName:wn,lineNumber:55,columnNumber:15}},(function(t){var r=t.isFocused,i=t.isHovered,o=t.isPressed;return l.createElement(Rt.IconInformationCircle,{style:[kn.icon,n&&kn.tiny,(r||i||o)&&kn.iconFocus],__self:e,__source:{fileName:wn,lineNumber:63,columnNumber:19}})})))}))},t}(l.Component),kn=Le.a.create((function(e){return{iconWrapper:{borderRadius:e.borderRadii.infinite,height:e.spaces.large,width:e.spaces.large,justifyContent:"center",marginRight:"-"+e.spaces.xxSmall},icon:{color:e.colors.deepGray},iconFocus:{color:e.colors.blue},tiny:{fontSize:e.fontSizes.small}}})),An="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/GenericAction/index.js",Rn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"handleClick",(function(e){var n=t.props.onClick;n&&n(e)})),t}return a()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.accessibilityLabel,r=t.hoverColor,i=t.icon,o=t.isLastAction,a=t.link,s=t.pullLeft,c=t.shouldTruncate,u=t.text,m={color:Le.a.theme.colors[r]},d=_n.a.generate({backgroundColor:"transparent",color:Le.a.theme.colors[r]}),_={backgroundColor:"transparent"},p={hoverStyle:_,pressedStyle:_};return l.createElement(Nt.a,{accessibilityLabel:n,accessibilityRole:"link",interactiveStyles:f()({},d,p),link:a,onClick:this.handleClick,style:[Ln.root,c&&Ln.truncate,!o&&Ln.gapBetweenActions],__self:this,__source:{fileName:An,lineNumber:52,columnNumber:7}},(function(t){var n=t.isFocused,r=t.isHovered,o=t.isPressed;return l.createElement(l.Fragment,{__self:e,__source:{fileName:An,lineNumber:61,columnNumber:11}},l.createElement(Nt.a,{accessible:!1,interactiveStyles:d,style:[Ln.iconWrapper,s&&Ln.pullLeft],__self:e,__source:{fileName:An,lineNumber:62,columnNumber:13}},l.createElement(i,{style:[Ln.icon,n&&m,o&&m,r&&m],__self:e,__source:{fileName:An,lineNumber:67,columnNumber:15}})),u?l.createElement(Nt.a,{accessible:!1,interactiveStyles:null,style:c&&Ln.truncate,__self:e,__source:{fileName:An,lineNumber:70,columnNumber:15}},(function(t){var i=t.isHovered;return l.createElement(ht.b,{numberOfLines:1,style:[Ln.text,n&&m,o&&m,r&&m,i&&Ln.textHover],__self:e,__source:{fileName:An,lineNumber:72,columnNumber:19}},u)})):null)}))},t}(l.Component);c()(Rn,"defaultProps",{pullLeft:!1,shouldTruncate:!1});var Ln=Le.a.create((function(e){return{root:{flexDirection:"row",alignItems:"center"},iconWrapper:{borderRadius:e.borderRadii.infinite,height:e.spaces.large,width:e.spaces.large,justifyContent:"center"},icon:{color:e.colors.deepGray},gapBetweenActions:{marginRight:e.spaces.medium},pullLeft:{marginLeft:"-"+e.spaces.xxSmall},text:{color:e.colors.deepGray,marginLeft:e.spaces.xxSmall},textHover:{textDecorationLine:"underline"},truncate:{flexShrink:1}}})),xn=n(180),On=Xe.a.f9e9679f,Sn=Xe.a.af8915c5,Pn=Xe.a.ac072c67,Mn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"getAccessibilityLabel",(function(e){if(e>0){var t=On(e);return Sn({count:t})}return Pn})),c()(i()(t),"getText",(function(){var e=t.props.likeCount;if(e>0)return On(e)})),c()(i()(t),"handleLikeActionClick",(function(e){U(e),xn.c.send({key:xn.b.TRIGGER,details:{region:xn.a.INTENT,type:xn.b.CLICK}}),xn.c.send({key:xn.b.TRIGGER,details:{region:xn.a.INTENT,type:xn.b.LIKE}})})),t}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.isLastAction,n=e.link,r=e.likeCount,i=this.getText(),o=this.getAccessibilityLabel(r);return l.createElement(Rn,{accessibilityLabel:o,hoverColor:"red",icon:Rt.IconHeartStroke,isLastAction:t,link:n,onClick:this.handleLikeActionClick,pullLeft:!0,text:i,__self:this,__source:{fileName:"/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/LikeAction/index.js",lineNumber:47,columnNumber:7}})},t}(l.Component),Wn=Object.freeze({profile:"profile",conversation:"conversation",covid19:"covid19"}),Un="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/NewsAction/index.js",Qn=Xe.a.f9e9679f,jn=Xe.a.e140c567,Kn=Xe.a.fc84f603,Dn=Xe.a.jd7337e0,Vn=Xe.a.gf350ba5,Hn=function(e){var t=S.a.getFeatures(),n=!!N.d&&!!t&&t[N.d.name],r=!!t&&!!n&&"on"===n.bucket,i=e.isLastAction,o=e.link,a=b()(e,["isLastAction","link"]);return l.createElement(Ke.a,{__self:void 0,__source:{fileName:Un,lineNumber:78,columnNumber:5}},(function(e){var t=e.windowWidth,n=function(e,t){var n,r,i,o=e.conversationCount,a=e.hideText,s=e.newsActionType,c=e.profileName,l="";switch(s){case Wn.conversation:return n=Qn(o),r=a?n:jn({count:n}),i=a?n:Vn({count:n}),o>=1&&(l=t?i:r),{icon:Rt.IconReplyStroke,text:l};case Wn.covid19:return{icon:Rt.IconLightningStroke,text:Dn};default:return l=Kn({name:c}),{icon:Rt.IconPersonStroke,text:l}}}(a,t<He&&r),s=n.icon,c=n.text;return l.createElement(Rn,{hoverColor:"blue",icon:s,isLastAction:i,link:o,onClick:j,shouldTruncate:!a.hideText,text:c,__self:void 0,__source:{fileName:Un,lineNumber:83,columnNumber:11}})}))},Fn=n(1947),Gn=n.n(Fn),Bn=n(1949),Xn=n.n(Bn),qn=n(1950),zn=n(38),Yn=Xe.a.b0af8538,Jn=Xe.a.i55ea7bb,Zn=Xe.a.a2270043,$n=Xe.a.e3f4426b,er=function(e){function t(t){var n;n=e.call(this,t)||this,c()(i()(n),"isFallback",(function(){return!window.navigator.share})),c()(i()(n),"getClickHandler",(function(){return n.isFallback()?n.handleCopyLink:n.handleShare})),c()(i()(n),"handleClick",(function(e){e.preventDefault(),e.stopPropagation(),n.getClickHandler()(e),P.e.scribe(P.a.CLICK_INTERACTIVE,{section:P.d.MAIN,component:P.b.SHARE_ACTION})})),c()(i()(n),"handleShare",(function(e){var t=n.props.link;Xn()(Gn.a.mark((function e(){var n,r,i,o,a;return Gn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.pathname,r=t.hash,i=t.state,o=t.query,a=zn.a.createPath(zn.a.createLocation({pathname:n,hash:r,query:o,state:i})),!navigator.share){e.next=6;break}return e.next=6,navigator.share({url:a});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()})),c()(i()(n),"handleCopyLink",(function(e){var t=n.props.link,r=t.pathname,i=t.hash,o=t.state,a=t.query,s=zn.a.createPath(zn.a.createLocation({pathname:r,hash:i,query:a,state:o}));qn.a.isAvailable()&&(qn.a.setString(s),n.setState({actionLabel:$n,icon:Rt.IconCheckmark}),setTimeout((function(){n.setState({actionLabel:Zn,icon:Rt.IconLink})}),6e3))}));var r=n.isFallback(),o=r?Zn:Yn,a=r?Rt.IconLink:Rt.IconOutgoing;return n.state={actionLabel:o,icon:a},n}return a()(t,e),t.prototype.render=function(){var e=this.props.isLastAction,t=this.state,n=t.actionLabel,r=t.icon;return l.createElement(Rn,{accessibilityLabel:Jn,hoverColor:"green",icon:r,isLastAction:e,onClick:this.handleClick,pullLeft:!0,shouldTruncate:!0,text:n,__self:this,__source:{fileName:"/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/ShareAction/index.js",lineNumber:103,columnNumber:7}})},t}(l.Component),tr=n(193),nr="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/TweetActions/index.js",rr=function(e){var t=S.a.getFeatures(),n=t&&t[N.b.name],r=!!window.navigator.share,i=e.conversationCount,o=e.likeCount,a=e.likeLink,s=e.newsActionLink,c=e.newsActionType,u=e.permalink,m=e.profileName,d=n&&n.bucket&&"share_social"===n.bucket&&r,_=n&&n.bucket&&"share_social"===n.bucket&&!r,f=!(!d&&!_),p=d||_?Wn.conversation:c,b=l.createElement(Mn,{isLastAction:!1,key:"like-action",likeCount:o,link:a,__self:void 0,__source:{fileName:nr,lineNumber:40,columnNumber:5}}),T=l.createElement(Hn,{conversationCount:i,hideText:f,isLastAction:!1,key:"news-action",link:s,newsActionType:p,profileName:m,__self:void 0,__source:{fileName:nr,lineNumber:43,columnNumber:5}});return l.createElement(tr.a.Consumer,{__self:void 0,__source:{fileName:nr,lineNumber:70,columnNumber:5}},(function(e){return l.createElement(xe.default,{style:ir.root,__self:void 0,__source:{fileName:nr,lineNumber:71,columnNumber:22}},function(e){var t=[],n=l.createElement(er,{isLastAction:!1,key:"share-action",link:e.linkProcessor(u),__self:void 0,__source:{fileName:nr,lineNumber:57,columnNumber:7}});d||_?t.push(b,T,n):t.push(b,T);var r=t.splice(t.length-1,1)[0];return t.push(l.cloneElement(r,{isLastAction:!0})),t}(e))}))},ir=Le.a.create((function(e){return{root:{alignItems:"flex-start",borderTopWidth:e.borderWidths.small,borderColor:e.colors.lightGray,flexDirection:"row",marginTop:e.spaces.xxSmall,paddingTop:e.spaces.xxSmall}}})),or=n(805),ar="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/components/Tweet/index.js",sr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(i()(t),"state",{impressionHandled:!1}),c()(i()(t),"handleImpression",(function(e){var n=e.isIntersecting,r=t.state.impressionHandled;n&&!r&&(P.e.scribe(P.a.IMPRESSION,{section:P.d.MAIN}),t.setState({impressionHandled:!0}))})),t}a()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.onLayout,n=e.permalink;return l.createElement(Fe,{onLayout:t,style:cr.outerContainer,__self:this,__source:{fileName:ar,lineNumber:61,columnNumber:7}},l.createElement(Qe,{link:n,onClick:Y,style:cr.innerContainer,__self:this,__source:{fileName:ar,lineNumber:62,columnNumber:9}},this._renderExperimentValidationABImpressionScribe(),this._maybeRenderParentTweet(),this._renderHeader(),this._renderTweetContent(),l.createElement(xe.default,{style:cr.meta,__self:this,__source:{fileName:ar,lineNumber:67,columnNumber:11}},this._renderTweetMeta(),this._renderPrivacyNotice()),this._maybeRenderTweetActions()))},n._renderExperimentValidationABImpressionScribe=function(){return l.createElement(Se,{experimentKey:P.d.TFW_HTE_EXP_VALIDATION_11064,__self:this,__source:{fileName:ar,lineNumber:78,columnNumber:12}})},n._renderHeader=function(){var e=this.props.tweet,t=this.state.impressionHandled;return l.createElement(Re,{disabled:t,onChange:this.handleImpression,threshold:1,__self:this,__source:{fileName:ar,lineNumber:86,columnNumber:7}},l.createElement(xe.default,{style:cr.header,__self:this,__source:{fileName:ar,lineNumber:87,columnNumber:9}},l.createElement(qe.default,{importantForAccessibility:"no-hide-descendants",onClick:W,screenName:e.user.screen_name,size:"xxLarge",uri:e.user.profile_image_url_https,withLink:!0,__self:this,__source:{fileName:ar,lineNumber:88,columnNumber:11}}),l.createElement(xe.default,{style:cr.userNameAndLabel,__self:this,__source:{fileName:ar,lineNumber:96,columnNumber:11}},l.createElement(Ct.a,{isVerified:e.user.verified,name:e.user.name,onLinkClick:W,screenName:e.user.screen_name,withLink:!0,withScreenName:!0,withStackedLayout:!e.user.highlighted_label,__self:this,__source:{fileName:ar,lineNumber:97,columnNumber:13}}),this._maybeRenderHighlightedUserLabel()),this._maybeRenderTwitterLogo()))},n._maybeRenderTwitterLogo=function(){var e=this.props,t=e.hideThread,n=e.permalink,r=e.tweet;return t||!t&&!r.parent?l.createElement(bn,{link:n,section:P.d.MAIN,__self:this,__source:{fileName:ar,lineNumber:117,columnNumber:7}}):null},n._renderTweetContent=function(){var e=this.props,t=e.hideMedia,n=e.hideThread,r=e.tweet;return l.createElement(mn,{hideMedia:t,hideThread:n,section:P.d.MAIN,tweet:r,__self:this,__source:{fileName:ar,lineNumber:123,columnNumber:12}})},n._maybeRenderHighlightedUserLabel=function(){var e=this.props.tweet.user.highlighted_label;if(!e)return null;var t=e.badge,n=e.description,r=e.url,i={badge:{url:t.url},description:n,url:{url:r.url,urlType:"ExternalUrl"}};return l.createElement(wt.a,{label:i,onClick:W,shouldTruncate:!0,withTopMargin:!1,__self:this,__source:{fileName:ar,lineNumber:139,columnNumber:7}})},n._maybeRenderParentTweet=function(){var e=this.props,t=e.hideMedia,n=e.hideThread,r=e.tweet;return r.parent&&!n?l.createElement(vn,{hideMedia:t,parentTweet:r.parent,__self:this,__source:{fileName:ar,lineNumber:145,columnNumber:42}}):null},n._maybeRenderTweetActions=function(){return this.props.tweet.public_interest_notice?null:this._renderTweetActions()},n._renderTweetMeta=function(){var e=this.props,t=e.permalink,n=e.tweet,r=n.place,i=r?{onPlaceClick:D,place:r&&r.full_name,placeLink:v(r)}:{},o={onTimestampClick:X,timestamp:n.created_at,timestampLink:t};return l.createElement(or.a,f()({linkColor:"deepGray"},i,o,{__self:this,__source:{fileName:ar,lineNumber:165,columnNumber:12}}))},n._renderPrivacyNotice=function(){return l.createElement(gn,{style:cr.privacy,__self:this,__source:{fileName:ar,lineNumber:169,columnNumber:12}})},n._renderTweetActions=function(){var e=this.props,t=e.likeActionLink,n=e.newsActionLink,r=e.newsActionType,i=e.permalink,o=e.tweet;return void 0!==o.conversation_count&&void 0!==o.favorite_count?l.createElement(rr,{conversationCount:o.conversation_count,likeCount:o.favorite_count,likeLink:t,newsActionLink:n,newsActionType:r,permalink:i,profileName:o.user.name,__self:this,__source:{fileName:ar,lineNumber:175,columnNumber:7}}):null},t}(l.Component);c()(sr,"defaultProps",{hideThread:!1});var cr=Le.a.create((function(e){return{outerContainer:{maxWidth:550,minWidth:250},innerContainer:{backgroundColor:e.colors.cellBackground,paddingTop:e.spaces.xSmall,paddingRight:e.spaces.small,paddingBottom:e.spaces.xxSmall,paddingLeft:e.spaces.small},header:{flexDirection:"row",paddingBottom:e.spaces.xSmall},userNameAndLabel:{flexDirection:"column",justifyContent:"center",marginHorizontal:e.spaces.xxSmall,maxWidth:"calc(100% - 84px)"},logo:{marginLeft:"auto"},meta:{flexDirection:"row",alignItems:"center",marginTop:e.spaces.micro},privacy:{marginLeft:"auto"}}})),lr=Object.freeze({FAILED:"failed",LOADED:"loaded",LOADING:"loading",NONE:"none"}),ur="/data/jenkins/workspace/source_0/syndication/embed-iframe/src/embeds/Tweet/index.js",mr=function(){return!0},dr=function(e){function t(t){var n,r;return n=e.call(this,t)||this,c()(i()(n),"_getNewsActionProps",(function(){var e=n.state.tweet;if(e)switch(e.news_action_type){case Wn.conversation:return{newsActionLink:I(e),newsActionType:Wn.conversation};case Wn.covid19:return{newsActionLink:{pathname:e.covid19_hub_url},newsActionType:Wn.covid19};default:return{newsActionLink:C(e),newsActionType:Wn.profile}}})),c()(i()(n),"handleLayout",Object(u.a)((r=!1,function(e){var t=e.nativeEvent;if(n.state.tweetFetchStatus===lr.LOADED){var i=t.layout,o=i.width,a=i.height;xn.c.send({key:xn.b.RESIZE,details:{width:o,height:a}}),r||(xn.c.send({key:xn.b.RENDERED,details:{}}),r=!0)}}),100)),c()(i()(n),"loadTweet",(function(){var e=n.props.id,t=O.a.getLocale();return n.fetchTweet(e,t).then((function(e){n.setState({tweet:e,tweetFetchStatus:lr.LOADED}),xn.c.send({key:xn.b.RESULTS,details:{}}),n._scribeAction(P.a.RESULTS)})).catch((function(e){n.setState({tweetFetchStatus:lr.FAILED}),xn.c.send({key:xn.b.NO_RESULTS,details:{}}),n._scribeAction(P.a.NO_RESULTS)}))})),c()(i()(n),"fetchTweet",(function(e,t){var r=n.props.api,i=S.a.getFeatures();return r.Tweet.fetch({features:d(i),id:e,lang:t})})),c()(i()(n),"_scribeAction",(function(e){P.e.scribe(e,{section:P.d.MAIN})})),n.state={tweetFetchStatus:lr.LOADING},n}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.id?this.loadTweet():this.setState({tweetFetchStatus:lr.FAILED})},n.render=function(){var e=this.state,t=e.tweet;return e.tweetFetchStatus===lr.LOADED&&t?this._renderTweet():null},n._renderTweet=function(){var e=this.props,t=e.hideMedia,n=e.hideThread,r=e.pageData,i=this.state.tweet,o=this._getNewsActionProps(),a=S.a.getFeatures();return i&&o?l.createElement(tr.a.Provider,{isExternal:mr,linkProcessor:x(m.a.tweet,i.id_str,r,a),__self:this,__source:{fileName:ur,lineNumber:67,columnNumber:7}},l.createElement(sr,{hideMedia:t,hideThread:n,likeActionLink:E(i),newsActionLink:o.newsActionLink,newsActionType:o.newsActionType,onLayout:this.handleLayout,permalink:I(i),tweet:i,__self:this,__source:{fileName:ur,lineNumber:71,columnNumber:9}})):null},t}(l.Component)}}]);